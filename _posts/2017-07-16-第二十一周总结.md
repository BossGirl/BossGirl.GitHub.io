---
layout: post
title: "第十五周总结"
date:  2017-07-16 14:58:44
description: "周总结"
tag: 总结
---

## 0x00 本周小结
    1.这周主要在实验吧上学习了班级课程，对一些常遇到的问题有了一个更清晰的理解和思路。
    2.整理了一下信息安全认识实习报告。
## 0x01 下周任务
    1.开始进行暑假任务
    2.练习linux常见命令以待手写命令的linux考试
    3.写飞机大战报告T_T
## 0x02 《信息安全预置课》课堂笔记
### 跨站脚本攻击之反射型XSS
    在表单中输入XSS代码【<script>alert('doge')</script>】，提交后浏览器会弹出一个对话框，显示输入的内容。
    反射型XSS是主动触发的。
### Csrf利用管理员权限创建后台管理账户<储存型XSS和CSRF漏洞的组合利用>
    1）测试漏洞：找到提交窗口提交【<script>alert('doge')</script>】（利用储存型XSS的存在）
    2）利用漏洞
### 绕过前台脚本检测扩展名上传Webshell
    前台脚本检测扩展名：客户端还没有向服务器发送任何消息，就对本地文件进行检测是否是可以上传的类型。
    绕过前台脚本检测扩展名：将所要上传文件的扩展名改为符合脚本检测规则的扩展名，通过burpsuite截取数据包，将数据包中的扩展名改为原来的
### 绕过服务器端扩展名检测上传
    当浏览器将文件提交到服务器端的时候，服务器端会根据设定的黑白名单对浏览器提交上来的文件扩展名进行检测，如果上传的文件扩展名不符合黑白名单的限制，则不予上传，否则上传成功。
    将一句话木马的文件名【lubr.php】，改成【lubr.php.abc】。首先，服务器验证文件扩展名的时候，验证的是【.abc】，只要该扩展名符合服务器端黑白名单规则，即可上传。另外，当在浏览器端访问该文件时，Apache如果解析不了【.abc】扩展名，会向前寻找可解析的扩展名，即【.php】。一句话木马可以被解析，即可通过中国菜刀连接。
### 利用00截断上传webshell
    利用00截断就是利用程序员在写程序时对文件的上传路径过滤不严格，产生0x00上传截断漏洞。 假设文件的上传路径为【`http://xx.xx.xx.xx/upfiles/lubr.php.jpg`】，通过抓包截断将【lubr.php】后面的【.】换成【0x00】（此步骤在burpsuite中的hex修改）。在上传的时候，当文件系统读到【0x00】时，会认为文件已经结束，从而将【lubr.php.jpg】的内容写入到【lubr.php】中，从而达到攻击的目的。 
### MSsqlserver xp_cmdshell提权（还是不很懂）
    1）通过webshell读取网站数据库连接配置文件，获取数据库连接密码。
    2）通过webshell上用xp_cmdshell添加系统帐号
### PHP代码审计SQL注入
    1)SQL注入攻击指的是通过构建特殊的输入作为参数传入Web 应用程序，而这些输入大都是SQL 语法里的一些组合，通过执行SQL 语句进而执行攻击者所要的操作，其主要原因是程序没有细致地过滤用户输入的数据，致使非法数据侵入系统。PHP代码审计中，主要审计语句SELECT、DELETE、UPDATE和INSERT。
    2)在PHP中，magic_quotes_gpc函数的作用是判断和解析用户提交的数据，对提交的数据，如post、get、cookie过来的数据增加转义字符“\”，以确保这些数据不会引起程序，特别是数据库语句因为特殊字符引起的污染而出现致命的错误。
    在magic_quotes_gpc=On的情况下，如果输入的数据有单引号’、双引号”、反斜线\与 NUL（NULL 字符）等字符都会被加上反斜线,为了防止注入，这些转义是必须的。如果这个选项为off，则对特殊字符不进行转义，就有可能引起注入。开启和关闭可在php.ini中进行设置。
### Metasploit溢出、phpMyAdmin漏洞（不是很明白）
    CGI脚本没有正确处理请求，导致源代码泄露，允许远程攻击者在请求参数中插入执行命令。